# データベース設計メモ<!-- omit in toc -->
データベースの設計のためのメモ。
## 目次<!-- omit in toc -->
- [1. メインテーブル](#1-メインテーブル)
  - [1.1 CLIENT\_RESULTS](#11-client_results)
  - [1.2. RESULT\_STATISTICS, ENGINEER\_TYPES, ALL\_ENGINEER\_SUMS](#12-result_statistics-engineer_types-all_engineer_sums)
- [2. サブテーブル](#2-サブテーブル)


# 1. メインテーブル
## 1.1 CLIENT_RESULTS
クライアントのテスト結果などを格納

### テーブル<!-- omit in toc -->

| id | グローバルIPアドレス | 志向ポイント | こだわりポイント | 専門性ポイント | 技術意識ポイント | 年代 | 性別 | 誕生月 | 登録日時 |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 1 | 142.250.196.131 | 100 | 100 | 100 | 100 | 20 | 1 | 4 | 2022/01/12/19:00:00 |
| 2 | 142.250.196.131 | 100 | 100 | 100 | 100 | 20 | 1 | 4 | 2022/01/12/19:00:00 |
| 3 | 142.250.196.131 | 100 | 100 | 100 | 100 | 20 | 1 | 4 | 2022/01/12/19:00:00 |
| 4 | 142.250.196.131 | 100 | 100 | 100 | 100 | 20 | 1 | 4 | 2022/01/12/19:00:00 |

### テーブルとカラム名の関係詳細<!-- omit in toc -->

| 名称 | カラム名 | データ型 | 取りうる範囲 | メモ |
| ---- | ---- | ---- | ---- | ---- |
| グローバルIPアドレス | IP_ADDRESS | String | 例:142.250.196.131 | Not NUll |
| 志向ポイント | POINT_INTENTION | Integer |  0-200 |  |
| こだわりポイント | POINT_VIEW | Integer | 0-200 |  |
| 専門性ポイント | POINT_EXPERT | Integer | 0-200 |  |
| 技術意識ポイント | POINT_TECH | Integer | 0-200 |  |
| 年代 | GENERATION | Integer | 10-70(/10) |  |
| 性別 | SEX | Integer | 0-2 | 0:未選択, 1:男性, 2:女性 |
| 誕生月 | MONTH | Integer | 1-12 |  |
| 登録日時 | - | DataTime |  |  |

### 補足メモ<!-- omit in toc -->
* データ型はPostgreSQLが扱う型を入れる
* このテーブルは拡張予定がないフィールドが多いので 外部キー で連結する必要のない構成であると判断

## 1.2. RESULT_STATISTICS, ENGINEER_TYPES, ALL_ENGINEER_SUMS
クライアントのテスト結果から得た統計情報を格納

### 正規化前テーブル<!-- omit in toc -->

#### 一次形(正規化前)<!-- omit in toc -->
| id | エンジニアタイプ | 年代 | 合計人数 | 生成日時 |
| --- | --- | --- | --- | --- |
| 1 | 1 | 10 | 3 | 2022/01/19/23:00:23 |
| 2 | 1 | 20 | 4 | 2022/01/19/23:00:24 |
| 3 | 1 | 30 | 2 | 2022/01/19/23:00:25 |
| 4 | 1 | 40 | 1 | 2022/01/19/23:00:26 |
| 5 | 1 | 50 | 2 | 2022/01/19/23:00:27 |
| 6 | 1 | 60 | 1 | 2022/01/19/23:00:28 |
| 7 | 1 | 70 | 2 | 2022/01/19/23:00:29 |
| 8 | 1 | 0 | 15 | 2022/01/19/23:00:30 |
| 9 | 2 | 10 | 3 | 2022/01/19/23:00:31 |
| 10 | 2 | 20 | 5 | 2022/01/19/23:00:32 |

### 正規化後テーブル<!-- omit in toc -->
#### RESULT_STATISTICS<!-- omit in toc -->
| id | エンジニアID(FK) | 統計データID(FK) |
| --- | --- | --- |
| 1 | 1 | 1 |
| 2 | 1 | 2 |
| 3 | 1 | 3 |
| 4 | 1 | 4 |

#### ENGINEER_TYPES<!-- omit in toc -->
| id(PK) | エンジニアタイプ名 |
| --- | --- |
| 1 | 事業者型事業家タイプ |
| 2 | 事業者型イノベータタイプ |
| 3 | 社会指向型インフルエンサタイプ |
| 4 | 社会指向型発信型クリエイタタイプ |

#### ALL_ENGINEER_SUMS<!-- omit in toc -->
| id(PK) | 年代 | 合計人数 | 生成日時 |
| --- | --- | --- | --- |
| 1 | 10 | 23 | 2022/01/19/23:00:23 |
| 2 | 20 | 21 | 2022/01/19/23:00:24 |
| 3 | 30 | 21 | 2022/01/19/23:00:25 |
| 4 | 40 | 23 | 2022/01/19/23:00:26 |

### テーブルとカラム名の関係詳細<!-- omit in toc -->
#### RESULT_STATISTICS<!-- omit in toc -->
| 名称 | カラム名 | データ型 | 取りうる範囲 | メモ |
| ---- | ---- | ---- | ---- | ---- |
| エンジニアID(FK) | ENGINEER_ID | Integer |  |  |
| 統計データID(FK) | SUMS_ID | Integer |  |  |

#### ENGINEER_TYPES<!-- omit in toc -->
| 名称 | カラム名 | データ型 | 取りうる範囲 | メモ |
| ---- | ---- | ---- | ---- | ---- |
| エンジニアID(PK) | id |  |  |  |
| エンジニアタイプ名 | ENGINEER_NAME | String |  |  |

#### ALL_ENGINEER_SUMS<!-- omit in toc -->
| 名称 | カラム名 | データ型 | 取りうる範囲 | メモ |
| ---- | ---- | ---- | ---- | ---- |
| 統計データID(PK) | id |  |  |  |
| 年代 | GENERATION | Integer | 10-70(:0) | 10-70と0(タイプごとの全年代) |
| 合計人数 | SUM | Integer | 正の数 |  |
| 生成日時 | CREATED_AT | DateTime |  |  |

### 補足メモ<!-- omit in toc -->
* エンジニアタイプを拡張できる構造としたため、10タイプのエンジニアで定義したがデータベース構造的には増やせる。

# 2. サブテーブル
管理者のログインやユーザ情報の格納のために使用