# データベース設計メモ<!-- omit in toc -->
データベースの設計のためのメモ。
## 目次<!-- omit in toc -->
- [1. メインテーブル](#1-メインテーブル)
  - [1.1 CLIENT\_RESULTS](#11-client_results)
  - [1.2. STATISTICS, ENGINEERS](#12-statistics-engineers)
- [2. サブテーブル](#2-サブテーブル)
  - [2.1. USERS](#21-users)


# 1. メインテーブル
## 1.1 CLIENT_RESULTS
クライアントのテスト結果などを格納

### テーブル<!-- omit in toc -->

| id | グローバルIPアドレス | 志向ポイント | こだわりポイント | 専門性ポイント | 技術意識ポイント | 年代 | 性別 | 誕生月 | 登録日時 |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 1 | 142.250.196.131 | 100 | 100 | 100 | 100 | 20 | 1 | 4 | 2022/01/12/19:00:00 |
| 2 | 142.250.196.131 | 100 | 100 | 100 | 100 | 20 | 1 | 4 | 2022/01/12/19:00:00 |
| 3 | 142.250.196.131 | 100 | 100 | 100 | 100 | 20 | 1 | 4 | 2022/01/12/19:00:00 |
| 4 | 142.250.196.131 | 100 | 100 | 100 | 100 | 20 | 1 | 4 | 2022/01/12/19:00:00 |

### テーブルとカラム名の関係詳細<!-- omit in toc -->

| 名称 | カラム名 | データ型 | 取りうる範囲 | メモ |
| ---- | ---- | ---- | ---- | ---- |
| グローバルIPアドレス | IP_ADDRESS | String | 例:142.250.196.131 | Not NUll |
| 志向ポイント | POINT_INTENTION | Integer |  0-200 |  |
| こだわりポイント | POINT_VIEW | Integer | 0-200 |  |
| 専門性ポイント | POINT_EXPERT | Integer | 0-200 |  |
| 技術意識ポイント | POINT_TECH | Integer | 0-200 |  |
| 年代 | GENERATION | Integer | 10-70(/10) |  |
| 性別 | SEX | Integer | 0-2 | 0:未選択, 1:男性, 2:女性 |
| 誕生月 | MONTH | Integer | 1-12 |  |
| 登録日時 | - | DataTime |  |  |

### 補足メモ<!-- omit in toc -->
* データ型はPostgreSQLが扱う型を入れる
* このテーブルは拡張予定がないフィールドが多いので 外部キー で連結する必要のない構成であると判断

## 1.2. STATISTICS, ENGINEERS
クライアントのテスト結果から得た統計情報を格納

### 正規化前テーブル<!-- omit in toc -->

#### 一次形(正規化前)<!-- omit in toc -->
| id | エンジニアタイプ | 年代 | 合計人数 |
| --- | --- | --- | --- |
| 1 | 事業者型事業家タイプ | 10 | 3 |
| 2 | 事業者型事業家タイプ | 20 | 4 |
| 3 | 事業者型事業家タイプ | 30 | 2 |
| 4 | 事業者型事業家タイプ | 40 | 1 |
| 5 | 事業者型事業家タイプ | 50 | 2 |
| 6 | 事業者型事業家タイプ | 60 | 1 |
| 7 | 事業者型事業家タイプ | 70 | 2 |
| 8 | 事業者型事業家タイプ | 0 | 15 |
| 9 | 事業者型イノベータタイプ | 10 | 3 |
| 10 | 事業者型イノベータタイプ | 20 | 5 |

### 正規化後テーブル<!-- omit in toc -->
#### STATISTICS<!-- omit in toc -->
| id | エンジニアID(FK) | 年代 | 合計人数 |
| --- | --- | --- | --- |
| 1 | 1 | 10 | 23 |
| 2 | 1 | 20 | 21 |
| 3 | 1 | 30 | 21 |
| 4 | 1 | 40 | 23 |

#### ENGINEERS<!-- omit in toc -->
| id(PK) | エンジニアタイプ名 |
| --- | --- |
| 1 | 事業者型事業家タイプ |
| 2 | 事業者型イノベータタイプ |
| 3 | 社会指向型インフルエンサタイプ |
| 4 | 社会指向型発信型クリエイタタイプ |

### テーブルとカラム名の関係詳細<!-- omit in toc -->
#### STATISTICS<!-- omit in toc -->
| 名称 | カラム名 | データ型 | 取りうる範囲 | メモ |
| ---- | ---- | ---- | ---- | ---- |
| エンジニアID(FK) | ENGINEER_ID | Integer |  |  |
| 年代 | GENERATION | Integer | 10-70(:0) | 10-70と0(タイプごとの全年代) |
| 合計人数 | SUM | Integer | 正の数 |  |

#### ENGINEERS<!-- omit in toc -->
| 名称 | カラム名 | データ型 | 取りうる範囲 | メモ |
| ---- | ---- | ---- | ---- | ---- |
| エンジニアタイプ名 | NAME | String |  |  |

### 補足メモ<!-- omit in toc -->
* エンジニアタイプを拡張できる構造としたため、10タイプのエンジニアで定義したがデータベース構造的には増やせる。

# 2. サブテーブル
管理者のログインやユーザ情報の格納のために使用
## 2.1. USERS
### テーブル<!-- omit in toc -->
| id | ユーザ名(ID) | ADMIN | パスワード |
| --- | --- | --- | --- |
| 1 | abcde | 1 | anbfjn35nms |
| 2 | 1234 | 0 | sanj2j4jan |

### テーブルとカラム名の関係詳細<!-- omit in toc -->
| 名称 | カラム名 | データ型 | 取りうる範囲 | メモ |
| ---- | ---- | ---- | ---- | ---- |
| ユーザ名(ID) | NAME | String |  | Unigue key |
| ADMIN | ADMIN | Boolean |  0, 1 | 管理ユーザが閲覧ユーザか格納 |
| パスワード | PASSWORD_DIGEST | String |  |  |