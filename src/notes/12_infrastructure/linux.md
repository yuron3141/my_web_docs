# Linux基礎<!-- omit in toc -->
Linux系のディストリビューションで使えるコマンドと基礎知識を記載します。

## 目次<!-- omit in toc -->
- [Linux操作コマンドとパッケージ](#linux操作コマンドとパッケージ)
  - [1.基本操作系コマンド](#1基本操作系コマンド)
  - [2.アカウントや権限系コマンド](#2アカウントや権限系コマンド)
  - [3. その他コマンド](#3-その他コマンド)
  - [4.viのコマンド(操作方法)](#4viのコマンド操作方法)
  - [5. Linux(CUI版)のよく使うパッケージ(インストールが必要)](#5-linuxcui版のよく使うパッケージインストールが必要)
    - [5.1. Vim](#51-vim)
    - [5.2. Git](#52-git)
- [Linuxに関する周辺知識](#linuxに関する周辺知識)
  - [1. ディストリビューション](#1-ディストリビューション)
    - [1.1. RedHat](#11-redhat)
    - [1.2. Fedora](#12-fedora)
    - [1.3. Debian](#13-debian)
    - [1.4. Ubuntu](#14-ubuntu)
    - [1.5. CentOS](#15-centos)
    - [1.6. Amazon Linux(番外)](#16-amazon-linux番外)
  - [2. ディストリビューションごとの特徴とパッケージ管理](#2-ディストリビューションごとの特徴とパッケージ管理)
    - [2.1. CentOSとUbuntuの比較と特徴](#21-centosとubuntuの比較と特徴)
    - [2.2. apt-yum対応表](#22-apt-yum対応表)
      - [2.2.1. オプション比較](#221-オプション比較)
      - [2.2.2. サブコマンド比較](#222-サブコマンド比較)
- [Linux系OSをGUI(主にwindows)で操作するためのSSHソフトウェアに関する予備録](#linux系osをgui主にwindowsで操作するためのsshソフトウェアに関する予備録)
  - [1. TeraTerm](#1-teraterm)
  - [2. Windows PowerShell](#2-windows-powershell)
  - [3. コマンドプロンプト](#3-コマンドプロンプト)


# Linux操作コマンドとパッケージ
## 1.基本操作系コマンド

| コマンド | 説明 | 使用例 | オプション |
| ---- | ---- | ---- | ---- |
| pwd | 現在のディレクトリの位置を表示 | pwd |  |
| cd | ディレクトリ移動 | cd 移動フォルダ名 | -で直前のディレクトリ移動, ~でホームディレクトリに移動 |
| ls | 現在のディレクトリにあるファイル群を表示 | ls | -a, -l, -d --time-style:ファイル更新年月表示|
| mv | ファイルを移動させる/ディレクトリ名変更 | mv 移動元 移動先 |  |
| mkdir | フォルダの作成 | mkdir 名称 |  |
| touch | ファイルを作成する | touch フォルダ名 |  |
| rmdir | 空のフォルダを削除する | rmdir 名称 |  |
| rm | ファイルやフォルダを削除 | rm 名称 | -r オプションでディレクトリ内のファイルを全て削除(確認なし), -rfで完全削除 |
| find | ファイルの検索 | find /-name ファイル名 |  |
| cat | ファイルの中身表示 | cat ファイル名 |  |
| history | コマンド履歴の表示 | history |  |
| vi | Linux標準エディタでファイル作成(記入可能) | vi ファイル名 |  |
| view | ファイルを開く(中身の確認/読み取り) | view ファイル名 |  |
| grep | 検索対象のファイルから指定した文字列を含む行を表示する | grep オプション 検索文字列 対象ファイル |  |

## 2.アカウントや権限系コマンド
| コマンド | 説明 | 使用例 | オプション |
| ---- | ---- | ---- | ---- |
| chmod | ファイルやフォルダのアクセス権限変更 | chmod モード ファイルやディレクリ名 |  |
| sudo  | root権限(管理者権限)になってコマンドを実行する | sudo オプション コマンド | -i,-lなど |
| su | 他ユーザーで実行するコマンド |  |
| passwd | ユーザのパスワードを変えることのできるコマンド | ``sudo passwd root``ルート権限にパスワード設定 |
| useradd | ユーザの追加 | useradd -m 新規ユーザ名 | -m, -M |
| usermod | RHEL上でユーザー名に対して sudo を有効にする | usermod -G wheel ユーザ |  |
| sudo -u ユーザ | ユーザ権限でコマンドを実行する | sudo -u ユーザ コマンド |  |
| exit | 管理者権限状態のログアウト |  |  |
| su | ユーザ切り替え | su ユーザ名 |  |  |

#### 私がよく使う権限系コマンド<!-- omit in toc -->
| コマンド | 説明 | 使用例 | オプション |
| ---- | ---- | ---- | ---- |
| sudo su | 管理者権限への切り替え |  | -をつけるとログインシェルとして実行できる |

### sudoコマンド<!-- omit in toc -->
root権限(管理者権限)になってコマンドを実行するためのコマンド。

#### sudoのオプション(一部)<!-- omit in toc -->
| オプション | 説明 |
| ---- | ---- |
| -s | 環境変数「SHELL」に設定されているシェルで実行 |
| -i | ログインシェルとして実行 |
| -l | 実行したユーザに対する権限を表示|

### chmodコマンド<!-- omit in toc -->
例:`` chmod 777 ファイル名``

chmodコマンドにおける指定するパラメータであるモードは「所有者」「所有グループ」「それ以外（他人）」のアクセス権を表します
アクセス権の番号はパーミッションの和をとることで算出できます。

#### パーミッション<!-- omit in toc -->
ファイルやディレクトリのパーミッションは、「r（読み出し可能）」「w（書き込み可能）」「x（実行可能）」の3つのアルファベットで表します。

| パーミッション |	数値 | 意味 |
| ---- | ---- | ---- |
| r |	4	| 読み出し可能（ディレクトリの場合は、ファイル一覧の表示の許可）|
| w	| 2 |	書き込み可能（ディレクトリの場合は、ファイルの追加／削除の許可）|
| x	| 1	| 実行可能（ディレクトリの場合は、cdコマンドでそのディレクトリに入れるか）|
| -	| 0	| 許可がない |

#### よく使うアクセス権(モード)パラメータ<!-- omit in toc -->
| 数値 | 内容 |
| ---- | ---- |
| 7 | 読み書き実行など**全て可能** |
| 5 | 読み取りと実行が可能 |
| 4 | 読み取り専用 |
| 0 | 全て不許可 |

## 3. その他コマンド
ネットワーク(接続)系やメディア処理(圧縮)、各種設定のためのコマンドなども含む。

| コマンド | 説明 | 使用例 | オプション |
| ---- | ---- | ---- | ---- |
| curl  | 様々な通信プロトコルでデータの送受信を行うことができる | curl http://example.com |  |
| wget | HTTPアクセスをしてコンテンツをファイルに保存可能 |  |  |
| tar | 複数のファイルをまとめて1つのアーカイブファイルとして作成する(圧縮ファイル生成.zipなどに関連) |  |  |
| netstat | ネットワークの接続状況などを表示する | netstat オプション | -a, -i など |
| nslookup | DNSサーバに名前解決を問い合わせをする(DNSサーバが正常に動作しているのかを調べる際に使用) | nslookup オプション ドメイン名 DNSサーバ  | -port 番号など |
| kill | プロセスを終了させる | kill -シグナル名またはシグナルID PID |  |

### curlに関して<!-- omit in toc -->
https://tech-lab.sios.jp/archives/29999

### wgetに関して<!-- omit in toc -->
https://hydrocul.github.io/wiki/commands/wget.html

### killに関して<!-- omit in toc -->
https://engineer-ninaritai.com/linux-kill/

## 4.viのコマンド(操作方法)
viはLinux標準搭載のコマンドライン型テキストエディタです。

viにはノーマルモード(ESCキー)と入力モード(iキー)があります。
入力モードはファイル本体データの記述
ノーマルモードではコマンドが使用可能です。

**操作系**
| コマンド | 説明 |
| ---- | ---- |
| h | 左に移動 |
| j | 先頭に移動 |
| k | 上に移動 |
| l | 右に移動 |
| l | 右に移動 |
| w | ワード単位で右に移動 |
| b | ワード単位で左に移動 |
| e | 現ワードの最後の文字に移動 |
| a | カーソルの右にテキストを追加 |
| x | カーソルの文字を削除 |

**保存・終了系**
| コマンド | 説明 |
| ---- | ---- |
| :wq | 上書き保存(保存して終了) |
| :q! | 変更内容を破棄して保存(保存せずに終了) |
| :w ファイル名 | ファイルを別名で保存 |

## 5. Linux(CUI版)のよく使うパッケージ(インストールが必要)
### 5.1. Vim
viの進化版(拡張版)のCUIテキストエディターです。
コマンドや使い方は以下URLより。

http://motw.mods.jp/Vim/command.html

### 5.2. Git
皆おなじみのGitです。叩き方は他のOSで叩くgitコマンドと同じです。

# Linuxに関する周辺知識
## 1. ディストリビューション
ディストリビューションとは「流通・配布」という意味でLinuxが配布される形態のことです。

一般的にLinuxという言葉はLinuxカーネルのことを意味します。

カーネルだけではOSとして手軽に使うことはできないため、利用しやすいようにアプリケーションなどをパッケージにしてすぐに使える状態にしたものがディストリビューションという訳です。

### 1.1. RedHat
Red Hat(RHEL)はアメリカのRedHat社が開発した商用向けのLinuxディストリビューションです。

クライアントPC用途ではなく大規模システムのサーバーに利用されることが多いです。

### 1.2. Fedora
FedoraはRedHat社が支援しているディストリビューションです。

RHELは商用向けで有料なのに対しFedoraは無料で使うことができます。

### 1.3. Debian
Debianは世界中のOSS参加開発者が集結して作り上げた、完全フリーで使うことができるLinuxディストリビューションです。

さまざまなCPU上での動作サポートと数万にもおよぶ膨大なアプリケーション数が特徴です。

### 1.4. Ubuntu
Ubuntuは**Debianをベースに作られた**世界的な人気を持つディストリビューションです。

設定ファイルなどの配置、設定のしかたなどはDebianと共通していることが多い。

UbuntuはLinuxのディストリビューションで最も先進的であると言える。

Debian自体の方向性は比較的に保守的であると同時に、ある程度デファクトスタンダードなものに近いものを採用するが、Ubuntuの場合、過去InitとしてUpstartを採用するなど独自の路線をたどるためである。

### 1.5. CentOS
CentOSは**RedHatをベースに作られた**RedHatの商用部分を取り除いたディストリビューションと言えます。

安定性も比較的高く商用でも使われる機会も増えています。


### 1.6. Amazon Linux(番外)
AWSのEC2などで導入可能なディストリビューションである。

ベースはRedHat / CentOS 7系のディストリビューションであると言われています。
つまり**Cent OSと同じように**使えます。

## 2. ディストリビューションごとの特徴とパッケージ管理
### 2.1. CentOSとUbuntuの比較と特徴
#### パッケージ管理の違い<!-- omit in toc -->
| 種類 | パッケージ　| 統合管理 |
| ---- | ---- | ---- |
| CentOS | RPM | **yum** |
| Ubuntu | deb | **apt** |

#### エディションの違い<!-- omit in toc -->
Ubuntuにはデスクトップエディションとサーバエディションが存在するが、CentOSはそういった区分けをしていない。

知名度としてデスクトップ(クライアントサイド)ではUbuntu、サーバではCentOSという構図が強い。

### 2.2. apt-yum対応表
#### 2.2.1. オプション比較
##### apt-getコマンドオプション<!-- omit in toc -->
> ``apt-get``コマンドは、Debian系のディストリビューションのパッケージ管理システムであるAPTライブラリを利用してパッケージを操作・管理するコマンドです

| apt-getコマンドのオプション | 説明　|
| ---- | ---- |
| -d | ダウンロードのみ行う |
| -s | システムは変更せず、表示のみを行う |
| --purge | 設定ファイルごとパッケージ削除（removeコマンドと一緒に指定） |

##### yumコマンドオプション<!-- omit in toc -->
| yumコマンドのオプション | 説明　|
| ---- | ---- |
| -y | すべての質問に yes と回答 |

#### 2.2.2. サブコマンド比較
##### apt-getとyum<!-- omit in toc -->
| apt-getサブコマンド | yumサブコマンド | 説明 |
| ---- | ---- | ---- |
| clean |  | パッケージファイルの削除 |
| dist-upgrade |  | Debianのシステムを最新にアップグレードする |
| install | install | パッケージをインストール |
| remove | remove | パッケージのアンイストール |
| update |  | 	インストール可能なパッケージの「一覧」を更新 |
| upgrade | update | システムの全パッケージを最新版にアップグレードする |

##### apt-cacheとyum<!-- omit in toc -->
| apt-cacheサブコマンド | yumサブコマンド | 説明 |
| ---- | ---- | ---- |
|  | check-update | アップデート対象となるパッケージ一覧を表示 |
| show | info | パッケージ詳細情報の表示 |
|  | list | パッケージ情報をリスト表示 |
|  | repolist | リポジトリ一覧の表示 |
| search | search,search all | パッケージ情報をキーワードで検索 |
|  | grouplist | パッケージグループのリスト表示 |
|  | groupinstall | 指定したグループのパッケージをインストール |
| showpkg |  | パッケージのバージョン、依存関係を表示 |
| depends |  | パッケージが依存するパッケージの一覧を表示 |

# Linux系OSをGUI(主にwindows)で操作するためのSSHソフトウェアに関する予備録
## 1. TeraTerm
Windows上で動作する多機能端末であり、WindowsからLinuxなどにリモート接続をするときによく使われる。

TeraTerm上のCUIでのコピペは、「Alt+c」でコピー、「Alt+v」でペーストである。

## 2. Windows PowerShell
PowerShellはマイクロソフトが開発した拡張可能なCUIです。windowsに標準搭載されています。

PowerShell(windows)でのコピペは以下の通りです。
コピーしたい範囲をマウスでドラッグ(範囲選択)してEnter(または右クリック) でコピー。
PowerShellの画面を選択して右クリックする事でクリップボードの内容をペースト。

## 3. コマンドプロンプト
コマンドプロンプトはWindowsに搭載されているCUIのシステムツールです。

コピペは通常の「ctrl + v」で貼り付け可能です。